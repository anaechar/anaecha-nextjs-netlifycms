---
title: Building Anaecha.com Part2
---

## Introduce Netlify CMS
1. Create "admin" folder inside "public"
```
- public
    - admin
```

2. Create "index.html" file 
```
- public
    - admin
        - index.html
```
and place the code below
```html
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager</title>
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
  <!-- Include the script that builds the page and powers Netlify CMS -->
  <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
</body>
</html>
```

3. Create "config.yml" under admin folder
```
- public
    - admin
        - index.html
        - config.yml
```

Paste code below
```
backend:
  name: github
  repo: beforeifly1/anaecha-nextjs-netlifycms
  branch: main
  base_url: https://anaecha-nextjs-netlifycms.vercel.app
  auth_endpoint: api/auth
media_library:
  name: cloudinary
  config:
    cloud_name: "beforeifly"
    api_key: "822585855683452"
collections:
  - name: "posts"
    label: "Posts"
    folder: "contents/posts"
    extension: “mdx”
    format: “frontmatter”
    create: true
    view_filters:
      - label: "Drafts"
        field: "draft"
        pattern: true
    slug: "{{fields.slug}}"
    fields:
      - {label: "Draft", name: "draft", widget: "boolean", default: false}
      - {label: "Title", name: "title", widget: "string", required: true}
      - {label: "Slug", name: "slug", widget: "string", required: true}
      - {label: "Description", name: "description", widget: "string", required: true}
      - {label: "Date", name: "date", widget: "date", format: "D MMM YYYY",required: true}
      - label: "Category"
        name: "category"
        widget: "relation"
        collection: "settings"
        file: "categories"
        search_fields: ["categories.*.name"]
        display_fields: ['categories.*.name']
        value_field: "categories.*.name"
        multiple: true
        required: true
      - {label: "Body", name: "body", widget: "markdown", required: true}
```

## Set up api
install @vercel/node simple-oauth2
create auth.ts, callback.ts and /lib/oauth2.ts





Install 
```
npm install @vercel/node --save-dev
```
https://vercel.com/docs/runtimes



2. We will start with fresh and clean project. So, we will delete some files.

Delete "Home.module.css"
```
- styles
    - Home.module.css
```

Delete "vercel.svg"
```
- public
    - vercel.svg
```

Delete "Hello.js"
```
- pages
  - api
    - hello.js
```

Open "/pages/index.js" and ...